# TODO и рекомендации по улучшению проекта

## Критичные задачи (перед публикацией в npm)

- [ ] **Исправить package.json**:
  - [ ] Заполнить поле `author` (имя и email или объект с name/email)
  - [ ] Заменить `@your-scope/dtmf-detector` на реальный scope или убрать scope, используя просто `dtmf-detector`
  - [ ] Добавить поля `repository`, `bugs`, `homepage` (если есть репозиторий)

## Важные улучшения

- [ ] **Исправить примеры**:
  - [ ] Добавить проверку существования `dist/` перед запуском демо или использовать исходники в dev-режиме
  - [ ] Обновить скрипт `demo` в package.json, чтобы он автоматически собирал проект при отсутствии dist

- [ ] **Исправить типизацию**:
  - [ ] Проверить и исправить использование `as unknown as Promise<void>` в `src/index.ts:163`
  - [ ] Улучшить типизацию для AudioWorklet API

## Желательные улучшения

- [ ] **Добавить тестирование**:
  - [ ] Настроить тестовый фреймворк (jest/vitest)
  - [ ] Написать unit-тесты для алгоритма Goertzel
  - [ ] Написать unit-тесты для логики детектирования тонов
  - [ ] Добавить интеграционные тесты с mock AudioContext

- [ ] **Добавить инструменты для качества кода**:
  - [ ] Настроить ESLint
  - [ ] Настроить Prettier
  - [ ] Добавить `.editorconfig`
  - [ ] Добавить pre-commit hooks (husky + lint-staged)

- [ ] **Документация**:
  - [ ] Добавить `CHANGELOG.md` для отслеживания версий
  - [ ] Расширить README примерами использования
  - [ ] Добавить JSDoc комментарии к публичным методам и типам

- [ ] **CI/CD**:
  - [ ] Настроить GitHub Actions для автоматических тестов
  - [ ] Настроить автоматическую публикацию в npm при тегах

- [ ] **Дополнительные функции**:
  - [ ] Добавить возможность анализа аудиофайлов (не только микрофона)
  - [ ] Добавить поддержку нескольких форматов аудио (если это имеет смысл)
  - [ ] Добавить конфигурацию для кастомных частот DTMF

## Технический долг

- [ ] Улучшить обработку ошибок в методах `start()` и `stop()`
- [ ] Добавить более информативные сообщения об ошибках
- [ ] Рассмотреть возможность использования событий (EventEmitter) вместо простых колбэков
- [ ] Добавить возможность остановки/паузы без полного перезапуска





